[{"C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\index.tsx":"1","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\App.tsx":"2","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\context\\shop-context.tsx":"3","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\components\\navbar.tsx":"4","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\pages\\auth\\index.tsx":"5","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\pages\\shop\\index.tsx":"6","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\pages\\checkout\\index.tsx":"7","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\pages\\purchased-items\\index.tsx":"8","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\hooks\\useGetToken.ts":"9","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\hooks\\useGetProducts.ts":"10","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\models\\errors.ts":"11","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\pages\\shop\\product.tsx":"12","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\pages\\checkout\\cart-item.tsx":"13","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\components\\Home.tsx":"14"},{"size":263,"mtime":1714378992416,"results":"15","hashOfConfig":"16"},{"size":1050,"mtime":1714388701550,"results":"17","hashOfConfig":"16"},{"size":4960,"mtime":1714234032413,"results":"18","hashOfConfig":"16"},{"size":1525,"mtime":1714395330622,"results":"19","hashOfConfig":"16"},{"size":3863,"mtime":1714988204829,"results":"20","hashOfConfig":"16"},{"size":703,"mtime":1713456157072,"results":"21","hashOfConfig":"16"},{"size":1414,"mtime":1713456157072,"results":"22","hashOfConfig":"16"},{"size":974,"mtime":1713456157072,"results":"23","hashOfConfig":"16"},{"size":213,"mtime":1713456157072,"results":"24","hashOfConfig":"16"},{"size":427,"mtime":1713456157072,"results":"25","hashOfConfig":"16"},{"size":367,"mtime":1713456157072,"results":"26","hashOfConfig":"16"},{"size":969,"mtime":1713456157072,"results":"27","hashOfConfig":"16"},{"size":1073,"mtime":1713456157072,"results":"28","hashOfConfig":"16"},{"size":1321,"mtime":1714985463965,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1aayeyu",{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"51"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"51"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"51"},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"51"},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\index.tsx",[],[],"C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\App.tsx",[],[],"C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\context\\shop-context.tsx",["80","81","82","83","84"],[],"import { ReactNode, createContext, useEffect, useState } from \"react\";\r\nimport { useGetProducts } from \"../hooks/useGetProducts\";\r\nimport { IProduct } from \"../models/interfaces\";\r\nimport axios, { AxiosError, AxiosResponse } from \"axios\";\r\nimport { ProductErrors } from \"../models/errors\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useGetToken } from \"../hooks/useGetToken\";\r\n\r\nexport interface IShopContext {\r\n  getCartItemCount: (itemId: string) => number;\r\n  addToCart: (itemId: string) => void;\r\n  updateCartItemCount: (newAmount: number, itemId: string) => void;\r\n  getTotalCartAmount: () => number;\r\n  removeFromCart: (itemId: string) => void;\r\n  checkout: (customerID: string) => void;\r\n  availableMoney: number;\r\n  fetchAvailableMoney: () => void;\r\n  purchasedItems: IProduct[];\r\n  isAuthenticated: boolean;\r\n  setIsAuthenticated: (isAuthenticated: boolean) => void;\r\n \r\n}\r\n\r\nexport const ShopContext = createContext<IShopContext | null>(null);\r\n\r\nexport const ShopContextProvider = (props) => {\r\n  const [cookies, setCookies] = useCookies([\"access_token\"]);\r\n  const [cartItems, setCartItems] = useState<{ string: number } | {}>({}); // { itemID: amount }\r\n  const [availableMoney, setAvailableMoney] = useState<number>(0);\r\n  const [purchasedItems, setPurchaseItems] = useState<IProduct[]>([]); // [itemID: amount]\r\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean>(\r\n    cookies.access_token !== undefined\r\n  );\r\n\r\n  const { products, fetchProducts } = useGetProducts();\r\n  const { headers } = useGetToken();\r\n  const navigate = useNavigate();\r\n\r\n  const fetchAvailableMoney = async () => {\r\n    const res = await axios.get(\r\n      `http://localhost:3001/auth/available-money/${localStorage.getItem(\r\n        \"userID\"\r\n      )}`,\r\n      { headers }\r\n    );\r\n    setAvailableMoney(res.data.availableMoney);\r\n  };\r\n\r\n  const fetchPurchasedItems = async () => {\r\n    const res = await axios.get(\r\n      `http://localhost:3001/products/purchased-items/${localStorage.getItem(\r\n        \"userID\"\r\n      )}`,\r\n      { headers }\r\n    );\r\n\r\n    setPurchaseItems(res.data.purchasedItems);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      fetchAvailableMoney();\r\n      fetchPurchasedItems();\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      localStorage.clear();\r\n      setCookies(\"access_token\", null);\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  const getCartItemCount = (itemId: string): number => {\r\n    if (itemId in cartItems) {\r\n      return cartItems[itemId];\r\n    }\r\n\r\n    return 0;\r\n  };\r\n\r\n  const getTotalCartAmount = () => {\r\n    if (products.length === 0) return 0;\r\n\r\n    let totalAmount = 0;\r\n    for (const item in cartItems) {\r\n      if (cartItems[item] > 0) {\r\n        let itemInfo: IProduct = products.find(\r\n          (product) => product._id === item\r\n        );\r\n\r\n        totalAmount += cartItems[item] * itemInfo.price;\r\n      }\r\n    }\r\n    return Number(totalAmount.toFixed(2));\r\n  };\r\n\r\n  const addToCart = (itemId: string) => {\r\n    if (!cartItems[itemId]) {\r\n      setCartItems((prev) => ({ ...prev, [itemId]: 1 }));\r\n    } else {\r\n      setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] + 1 }));\r\n    }\r\n  };\r\n\r\n  const removeFromCart = (itemId: string) => {\r\n    if (!cartItems[itemId]) return;\r\n    setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] - 1 }));\r\n  };\r\n\r\n  const updateCartItemCount = (newAmount: number, itemId: string) => {\r\n    setCartItems((prev) => ({ ...prev, [itemId]: newAmount }));\r\n  };\r\n\r\n  const checkout = async () => {\r\n    const body = { customerID: localStorage.getItem(\"userID\"), cartItems };\r\n    try {\r\n      const res = await axios.post(\r\n        \"http://localhost:3001/products/checkout\",\r\n        body,\r\n        { headers }\r\n      );\r\n      setPurchaseItems(res.data.purchasedItems);\r\n      fetchAvailableMoney();\r\n      fetchProducts();\r\n      navigate(\"/\");\r\n    } catch (err) {\r\n      let errorMessage: string = \"\";\r\n      switch (err.response.data.type) {\r\n        case ProductErrors.NO_PRODUCT_FOUND:\r\n          errorMessage = \"No product found\";\r\n          break;\r\n        case ProductErrors.NO_AVAILABLE_MONEY:\r\n          errorMessage = \"Not enough money\";\r\n          break;\r\n        case ProductErrors.NOT_ENOUGH_STOCK:\r\n          errorMessage = \"Not enough stock\";\r\n          break;\r\n        default:\r\n          errorMessage = \"Something went wrong\";\r\n      }\r\n\r\n      alert(\"ERROR: \" + errorMessage);\r\n    }\r\n  };\r\n\r\n  const contextValue: IShopContext = {\r\n    getCartItemCount,\r\n    addToCart,\r\n    updateCartItemCount,\r\n    removeFromCart,\r\n    getTotalCartAmount,\r\n    checkout,\r\n    availableMoney,\r\n    fetchAvailableMoney,\r\n    purchasedItems,\r\n    isAuthenticated,\r\n    setIsAuthenticated,\r\n \r\n\r\n  };\r\n\r\n  return (\r\n    <ShopContext.Provider value={contextValue}>\r\n      {props.children}\r\n    </ShopContext.Provider>\r\n  );\r\n};\r\n\r\n\r\n",[],"C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\components\\navbar.tsx",[],[],"C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\pages\\auth\\index.tsx",["85"],[],"C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\pages\\shop\\index.tsx",["86","87","88","89"],[],"import { useEffect, useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Product } from \"./product\";\r\n\r\nimport \"./styles.css\";\r\nimport { useGetProducts } from \"../../hooks/useGetProducts\";\r\n\r\nexport const ShopPage = () => {\r\n  const [cookies, _] = useCookies([\"access_token\"]);\r\n\r\n  const { products } = useGetProducts();\r\n\r\n  if (!cookies.access_token) {\r\n    return <Navigate to=\"/auth\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"shop\">\r\n      <div className=\"products\">\r\n        {products.map((product) => (\r\n          <Product product={product} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n",[],"C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\pages\\checkout\\index.tsx",["90"],[],"import React, { useContext } from \"react\";\r\nimport { ShopContext } from \"../../context/shop-context\";\r\nimport { CartItem } from \"./cart-item\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport \"./styles.css\";\r\nimport { useGetProducts } from \"../../hooks/useGetProducts\";\r\nimport { IProduct } from \"../../models/interfaces\";\r\n\r\nexport const CheckoutPage = () => {\r\n  const { getCartItemCount, getTotalCartAmount, checkout } =\r\n    useContext(ShopContext);\r\n  const totalAmount = getTotalCartAmount();\r\n\r\n  const { products } = useGetProducts();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <div className=\"cart\">\r\n      <div>\r\n        <h1>Your Cart Items</h1>\r\n      </div>\r\n      <div className=\"cart\">\r\n        {products.map((product: IProduct) => {\r\n          if (getCartItemCount(product._id) !== 0) {\r\n            return <CartItem data={product} />;\r\n          }\r\n        })}\r\n      </div>\r\n\r\n      {totalAmount > 0 ? (\r\n        <div className=\"checkout\">\r\n          <p> Subtotal: ${totalAmount} </p>\r\n          <button onClick={() => navigate(\"/\")}> Continue Shopping </button>\r\n          <button\r\n            onClick={() => {\r\n              checkout(localStorage.getItem(\"userID\"));\r\n            }}\r\n          >\r\n            {\" \"}\r\n            Checkout{\" \"}\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <h1> Your Shopping Cart is Empty</h1>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\pages\\purchased-items\\index.tsx",[],[],"C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\hooks\\useGetToken.ts",["91"],[],"import { useCookies } from \"react-cookie\";\r\nexport const useGetToken = () => {\r\n  const [cookies, _] = useCookies([\"access_token\"]);\r\n\r\n  return {\r\n    headers: { authorization: cookies.access_token },\r\n  };\r\n};\r\n","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\hooks\\useGetProducts.ts",[],[],"C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\models\\errors.ts",[],[],"C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\pages\\shop\\product.tsx",["92"],[],"import React, { useContext } from \"react\";\r\nimport { ShopContext } from \"../../context/shop-context\";\r\nimport { IProduct } from \"../../models/interfaces\";\r\n\r\ninterface Props {\r\n  product: IProduct;\r\n}\r\n\r\nexport const Product = (props: Props) => {\r\n  const { _id, productName, description, price, stockQuantity, imageURL } =\r\n    props.product;\r\n  const { addToCart, getCartItemCount } = useContext(ShopContext);\r\n\r\n  const cartItemCount = getCartItemCount(_id);\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      <img src={imageURL} />\r\n      <div className=\"description\">\r\n        <h3>{productName}</h3>\r\n        <p>{description}</p>\r\n        <p> ${price}</p>\r\n      </div>\r\n      <button className=\"addToCartBttn\" onClick={() => addToCart(_id)}>\r\n        Add To Cart {cartItemCount > 0 && <> ({cartItemCount})</>}\r\n      </button>\r\n\r\n      <div className=\"stockQuantity\">\r\n        {stockQuantity === 0 && <h1> OUT OF STOCK</h1>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\pages\\checkout\\cart-item.tsx",["93","94","95"],[],"import React, { useContext } from \"react\";\r\nimport { ShopContext } from \"../../context/shop-context\";\r\nimport { IProduct } from \"../../models/interfaces\";\r\n\r\ninterface Props {\r\n  data: IProduct;\r\n}\r\n\r\nexport const CartItem = (props: Props) => {\r\n  const { _id, productName, description, price, stockQuantity, imageURL } =\r\n    props.data;\r\n  const { getCartItemCount, addToCart, removeFromCart, updateCartItemCount } =\r\n    useContext(ShopContext);\r\n\r\n  const cartItemCount = getCartItemCount(_id);\r\n  return (\r\n    <div className=\"cartItem\">\r\n      <img src={imageURL} />\r\n      <div className=\"description\">\r\n        <p>\r\n          <b>{productName}</b>\r\n        </p>\r\n        <p> Price: ${price}</p>\r\n        <div className=\"countHandler\">\r\n          <button onClick={() => removeFromCart(_id)}> - </button>\r\n          <input\r\n            value={cartItemCount}\r\n            onChange={(e) => updateCartItemCount(Number(e.target.value), _id)}\r\n          />\r\n          <button onClick={() => addToCart(_id)}> + </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\laris\\p\\ecommerce-mern-tutorial\\client\\src\\components\\Home.tsx",[],[],{"ruleId":"96","severity":1,"message":"97","line":1,"column":10,"nodeType":"98","messageId":"99","endLine":1,"endColumn":19},{"ruleId":"96","severity":1,"message":"100","line":4,"column":17,"nodeType":"98","messageId":"99","endLine":4,"endColumn":27},{"ruleId":"96","severity":1,"message":"101","line":4,"column":29,"nodeType":"98","messageId":"99","endLine":4,"endColumn":42},{"ruleId":"102","severity":1,"message":"103","line":66,"column":6,"nodeType":"104","endLine":66,"endColumn":23,"suggestions":"105"},{"ruleId":"102","severity":1,"message":"106","line":73,"column":6,"nodeType":"104","endLine":73,"endColumn":23,"suggestions":"107"},{"ruleId":"96","severity":1,"message":"108","line":21,"column":10,"nodeType":"98","messageId":"99","endLine":21,"endColumn":11},{"ruleId":"96","severity":1,"message":"109","line":1,"column":10,"nodeType":"98","messageId":"99","endLine":1,"endColumn":19},{"ruleId":"96","severity":1,"message":"110","line":1,"column":21,"nodeType":"98","messageId":"99","endLine":1,"endColumn":29},{"ruleId":"96","severity":1,"message":"111","line":4,"column":8,"nodeType":"98","messageId":"99","endLine":4,"endColumn":13},{"ruleId":"96","severity":1,"message":"108","line":11,"column":19,"nodeType":"98","messageId":"99","endLine":11,"endColumn":20},{"ruleId":"112","severity":1,"message":"113","line":25,"column":43,"nodeType":"114","messageId":"115","endLine":25,"endColumn":45},{"ruleId":"96","severity":1,"message":"108","line":3,"column":19,"nodeType":"98","messageId":"99","endLine":3,"endColumn":20},{"ruleId":"116","severity":1,"message":"117","line":18,"column":7,"nodeType":"118","endLine":18,"endColumn":29},{"ruleId":"96","severity":1,"message":"119","line":10,"column":29,"nodeType":"98","messageId":"99","endLine":10,"endColumn":40},{"ruleId":"96","severity":1,"message":"120","line":10,"column":49,"nodeType":"98","messageId":"99","endLine":10,"endColumn":62},{"ruleId":"116","severity":1,"message":"117","line":18,"column":7,"nodeType":"118","endLine":18,"endColumn":29},"@typescript-eslint/no-unused-vars","'ReactNode' is defined but never used.","Identifier","unusedVar","'AxiosError' is defined but never used.","'AxiosResponse' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'fetchAvailableMoney' and 'fetchPurchasedItems'. Either include them or remove the dependency array.","ArrayExpression",["121"],"React Hook useEffect has a missing dependency: 'setCookies'. Either include it or remove the dependency array.",["122"],"'_' is assigned a value but never used.","'useEffect' is defined but never used.","'useState' is defined but never used.","'axios' is defined but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'description' is assigned a value but never used.","'stockQuantity' is assigned a value but never used.",{"desc":"123","fix":"124"},{"desc":"125","fix":"126"},"Update the dependencies array to be: [fetchAvailableMoney, fetchPurchasedItems, isAuthenticated]",{"range":"127","text":"128"},"Update the dependencies array to be: [isAuthenticated, setCookies]",{"range":"129","text":"130"},[2297,2314],"[fetchAvailableMoney, fetchPurchasedItems, isAuthenticated]",[2452,2469],"[isAuthenticated, setCookies]"]