{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\laris\\\\p\\\\ecommerce-mern-tutorial\\\\client\\\\src\\\\pages\\\\checkout\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { ShopContext } from '../../context/shop-context';\nimport { CartItem } from './cart-item';\nimport { useNavigate } from 'react-router-dom';\nimport './styles.css';\nimport { useGetProducts } from '../../hooks/useGetProducts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CheckoutPage = () => {\n  _s();\n  const {\n    getCartItemCount,\n    getTotalCartAmount,\n    checkout\n  } = useContext(ShopContext);\n  const totalAmount = getTotalCartAmount();\n  const {\n    products\n  } = useGetProducts();\n  const navigate = useNavigate();\n\n  // State for showing the confirmation popup\n  const [showPopup, setShowPopup] = useState(false);\n\n  // Function to handle the checkout process and show the popup\n  const handleCheckout = () => {\n    checkout(localStorage.getItem(\"userID\"));\n    setShowPopup(true); // Show the confirmation popup\n  };\n\n  // Function to close the popup\n  const closePopup = () => {\n    setShowPopup(false);\n    navigate('/'); // Optionally navigate to a different page after closing the popup\n  };\n\n  // Popup component for checkout confirmation\n  const CheckoutPopup = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup-inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Checkout Complete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Your order has been processed.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: closePopup,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Your Cart Items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-items\",\n      children: products.map(product => {\n        if (getCartItemCount(product._id) !== 0) {\n          return /*#__PURE__*/_jsxDEV(CartItem, {\n            data: product\n          }, product._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 20\n          }, this);\n        }\n        return null;\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), totalAmount > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Subtotal: $\", totalAmount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/\"),\n        children: \"Continue Shopping\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCheckout,\n        children: \"Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Your Shopping Cart is Empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), showPopup && /*#__PURE__*/_jsxDEV(CheckoutPopup, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(CheckoutPage, \"soyuJoFDyHqZuOEyjDj4KPBhF9U=\", false, function () {\n  return [useGetProducts, useNavigate];\n});\n_c = CheckoutPage;\nvar _c;\n$RefreshReg$(_c, \"CheckoutPage\");","map":{"version":3,"names":["React","useContext","useState","ShopContext","CartItem","useNavigate","useGetProducts","jsxDEV","_jsxDEV","CheckoutPage","_s","getCartItemCount","getTotalCartAmount","checkout","totalAmount","products","navigate","showPopup","setShowPopup","handleCheckout","localStorage","getItem","closePopup","CheckoutPopup","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","product","_id","data","_c","$RefreshReg$"],"sources":["C:/Users/laris/p/ecommerce-mern-tutorial/client/src/pages/checkout/index.tsx"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { ShopContext } from '../../context/shop-context';\r\nimport { CartItem } from './cart-item';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport './styles.css';\r\nimport { useGetProducts } from '../../hooks/useGetProducts';\r\n\r\nexport const CheckoutPage = () => {\r\n  const { getCartItemCount, getTotalCartAmount, checkout } = useContext(ShopContext);\r\n  const totalAmount = getTotalCartAmount();\r\n  const { products } = useGetProducts();\r\n  const navigate = useNavigate();\r\n\r\n  // State for showing the confirmation popup\r\n  const [showPopup, setShowPopup] = useState(false);\r\n\r\n  // Function to handle the checkout process and show the popup\r\n  const handleCheckout = () => {\r\n    checkout(localStorage.getItem(\"userID\"));\r\n    setShowPopup(true);  // Show the confirmation popup\r\n  };\r\n\r\n  // Function to close the popup\r\n  const closePopup = () => {\r\n    setShowPopup(false);\r\n    navigate('/');  // Optionally navigate to a different page after closing the popup\r\n  };\r\n\r\n  // Popup component for checkout confirmation\r\n  const CheckoutPopup = () => (\r\n    <div className=\"popup\">\r\n      <div className=\"popup-inner\">\r\n        <h2>Checkout Complete</h2>\r\n        <p>Your order has been processed.</p>\r\n        <button onClick={closePopup}>Close</button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"cart\">\r\n      <div>\r\n        <h1>Your Cart Items</h1>\r\n      </div>\r\n      <div className=\"cart-items\">\r\n        {products.map((product) => {\r\n          if (getCartItemCount(product._id) !== 0) {\r\n            return <CartItem key={product._id} data={product} />;\r\n          }\r\n          return null;\r\n        })}\r\n      </div>\r\n\r\n      {totalAmount > 0 ? (\r\n        <div className=\"checkout\">\r\n          <p>Subtotal: ${totalAmount}</p>\r\n          <button onClick={() => navigate(\"/\")}>Continue Shopping</button>\r\n          <button onClick={handleCheckout}>Checkout</button>\r\n        </div>\r\n      ) : (\r\n        <h1>Your Shopping Cart is Empty</h1>\r\n      )}\r\n\r\n      {showPopup && <CheckoutPopup />}\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}